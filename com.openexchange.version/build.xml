<?xml version="1.0" encoding="UTF-8"?>
<project name="com.openexchange.version overrides" basedir=".">

    <description>
        This build file overrides the setVersion target to patch the version and build number into the bundle manifest file.
    </description>

    <import file="build-project.xml"/>

    <target name="setVersion">
        <replaceregexp file="META-INF/MANIFEST.MF" match="OXVersion: .*" replace="OXVersion: ${version}" byline="true"/>
        <replaceregexp file="META-INF/MANIFEST.MF" match="OXRevision: .*" replace="OXRevision: ${revision}" byline="true"/>
        <replaceregexp file="META-INF/MANIFEST.MF" match="Bundle-Version: .*" replace="Bundle-Version: ${version}" byline="true"/>
    </target>

</project>
