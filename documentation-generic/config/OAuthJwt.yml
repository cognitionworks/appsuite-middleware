feature_name: OAuth JWT
feature_description: |
  Configuration for usage of OAuth 2.0 Bearer Access Tokens that are JWTs.
properties:
  - key: com.openexchange.oauth.provider.jwks.endpoint
    description: |
      Specifies (and thus enables) a JWKS endpoint used to fetch signature keys for validation
      Examples:
      <pre>
      com.openexchange.oauth.provider.jwksEndpoint = https://YOUR_DOMAIN/.well-known/jwks.json
      </pre>
    defaultValue:
    version: 7.10.5
    reloadable: true
    configcascadeAware: true
    related: com.openexchange.oauth.provider.keystore.path
    file: oauth-provider.properties
    packageName: open-xchange-oauth-provider
    tags: ["OAuth", "JWT"]
  - key: com.openexchange.oauth.provider.keystore.path
    description: |
      Specifies (and thus enables) a path to locally populated keystore if JWKs are not fetched from remote.
    defaultValue: 
    version: 7.10.5
    reloadable: true
    configcascadeAware: true
    related: ["com.openexchange.oauth.provider.jwks.endpoint", "com.openexchange.oauth.provider.keystore.password", "com.openexchange.oauth.provider.keystore.type"]
    file: oauth-provider.properties
    packageName: open-xchange-oauth-provider
    tags: ["OAuth", "JWT"]
  - key: com.openexchange.oauth.provider.keystore.password
    description: |
      Password for the locally populated keystore.
    defaultValue: 
    version: 7.10.5
    reloadable: true
    configcascadeAware: true
    related: ["com.openexchange.oauth.provider.keystore.path", "com.openexchange.oauth.provider.keystore.type"]
    file: oauth-provider.properties
    packageName: open-xchange-oauth-provider
    tags: ["OAuth", "JWT"]
  - key: com.openexchange.oauth.provider.keystore.type
    description: |
      Specifies the type of the used keystore.
    defaultValue: JKS
    version: 7.10.5
    reloadable: true
    configcascadeAware: true
    related: ["com.openexchange.oauth.provider.keystore.path", "com.openexchange.oauth.provider.keystore.password"]
    file: oauth-provider.properties
    packageName: open-xchange-oauth-provider
    tags: ["OAuth", "JWT"]
  - key: com.openexchange.oauth.provider.allowedIssuer
    description: |
      A comma sperated list of issuer names (JWT claim "iss") that tokens are accepted from. 
      If this property is empty, tokens are accepted from all issuers.
    defaultValue: 
    version: 7.10.5
    reloadable: true
    configcascadeAware: true
    related: 
    file: oauth-provider.properties
    packageName: open-xchange-oauth-provider
    tags: ["OAuth", "JWT"]
  - key: com.openexchange.oauth.provider.contextLookupClaim
    description: |
      Specifies the name of claim that shall be used for context resolution. 
      Default is the JWT claim "sub" (subject) that identifies the principal 
      that is the subject of the JWT.
    defaultValue: sub
    version: 7.10.5
    reloadable: true
    configcascadeAware: true
    related: com.openexchange.oauth.provider.contextLookupNamePart
    file: oauth-provider.properties
    packageName: open-xchange-oauth-provider
    tags: ["OAuth", "JWT"]
  - key: com.openexchange.oauth.provider.contextLookupNamePart
    description: |
      Gets the name part of the JWT claim value used for
      determining the context of a user. Possible values are

      <ul>
      <li><code>full</code> - The full string as returned by the authorization server. </li>
      <li><code>local-part</code> - The local part of an email address (local-part@domain), 
      if the provided name matches such. In case the name does not match an email address, the full string is taken.</li>
      <li><code>domain</code> - The domain part of an email address (local-part@domain), 
      if the provided name matches such. In case the name does not match an email address, the full string is taken.</li>
      </ul>
    defaultValue: domain
    version: 7.10.5
    reloadable: true
    configcascadeAware: true
    related: com.openexchange.oauth.provider.contextLookupClaim
    file: oauth-provider.properties
    packageName: open-xchange-oauth-provider
    tags: ["OAuth", "JWT"]
  - key: com.openexchange.oauth.provider.userLookupClaim
    description: |
      Specifies the name of claim that shall be used for user resolution. 
      Default is the JWT claim "sub" (subject) that identifies the principal 
      that is the subject of the JWT.
    defaultValue: sub
    version: 7.10.5
    reloadable: true
    configcascadeAware: true
    related: com.openexchange.oauth.provider.userLookupNamePart
    file: oauth-provider.properties
    packageName: open-xchange-oauth-provider
    tags: ["OAuth", "JWT"]
  - key: com.openexchange.oauth.provider.userLookupNamePart
    description: |
      Gets the name part of the JWT claim value used for
      determining a user within a context. Possible values are

      <ul>
      <li><code>full</code> - The full string as returned by the authorization server. </li>
      <li><code>local-part</code> - The local part of an email address (local-part@domain), 
      if the provided name matches such. In case the name does not match an email address, the full string is taken.</li>
      <li><code>domain</code> - The domain part of an email address (local-part@domain), 
      if the provided name matches such. In case the name does not match an email address, the full string is taken.</li>
      </ul>
    defaultValue: local-part
    version: 7.10.5
    reloadable: true
    configcascadeAware: true
    related: com.openexchange.oauth.provider.userLookupClaim
    file: oauth-provider.properties
    packageName: open-xchange-oauth-provider
    tags: ["OAuth", "JWT"]
  - key: com.openexchange.oauth.provider.scope.[EXTERNAL_SCOPE]
    description: |
      This property is used for mapping external authorization server scopes to internal Middleware scopes. 
      Replace [EXTERNAL_SCOPE] with the corresponding external scope, which should be mapped to one or more internal scopes. 
      Examples:
      <pre>
      com.openexchange.oauth.provider.scope.mail = read_mail, write_mail
      </pre>
    defaultValue: 
    version: 7.10.5
    reloadable: true
    configcascadeAware: true
    related: 
    file: oauth-provider.propertie
    packageName: open-xchange-oauth-provider
    tags: ["OAuth", "JWT"]
