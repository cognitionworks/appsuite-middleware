--- !com.openexchange.subscribe.crawler.CrawlerDescription
displayName: gmx.de
id: com.openexchange.subscribe.crawler.gmx
workflowString: |
  --- !com.openexchange.subscribe.crawler.Workflow
  steps: 
    - !com.openexchange.subscribe.crawler.LoginPageStep
      baseUrl: ""
      description: Log in
      linkAvailableAfterLogin: "https://service.gmx.net"
      nameOfLoginForm: login1
      nameOfPasswordField: p
      nameOfUserField: id
      pageTitleAfterLogin: "https://service.gmx.net"
      password: ""
      url: "https://www.gmx.de"
      username: ""
    - !com.openexchange.subscribe.crawler.PageByLinkRegexStep
      description: Click on the addressbook link in the menu to the left.
      url: "http:\\/\\/service\\.gmx\\.net\\/de\\/cgi\\/g\\.fcgi/addressbook.*"
    - !com.openexchange.subscribe.crawler.PageByFrameNumberStep
      description: Get the first iframe
      frameNumber: 1
    - !com.openexchange.subscribe.crawler.PageByLinkRegexStep
      description: "Click on the manage-Addressbook-Link in the upper right "
      url: "categories.*"
    - !com.openexchange.subscribe.crawler.PageByLinkRegexStep
      description: Click on the Export-link to the left
      url: "exportcontacts.*"
    - !com.openexchange.subscribe.crawler.TextPageByMultiselectStep
      buttonName: export
      description: Select Microsoft Outlook 2003 in the form and submit it.
      formAction: exportcontacts
      formName: ""
      selectName: raw_format
      selectValue: csv_Outlook2003
    - !com.openexchange.subscribe.crawler.ContactsByCsvFileStep
      description: Map csv fields to Contact-Fields
      fields: 
        "0": last_name
        "1": title
        "2": first_name
        "5": birthday
        "6": position
        "7": department
        "8": company
        "9": email1
        "11": email2
        "13": email3
        "15": telephone_business1
        "16": telephone_business2
        "19": telephone_home1
        "18": telephone_home1
        "21": cellular_telephone2
        "20": cellular_telephone1
        "23": fax_home
        "24": fax_business
        "27": street_business
        "29": postal_code_business
        "28": city_business
        "31": street_home
        "30": country_business
        "34": country_home
        "35": street_other
        "32": city_home
        "33": postal_code_home
        "38": country_other
        "39": note
        "36": city_other
        "37": postal_code_other
      ignoreFirstLine: true
  
