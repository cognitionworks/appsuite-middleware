--- !com.openexchange.subscribe.crawler.CrawlerDescription
displayName: gmx.de
id: com.openexchange.subscribe.crawler.gmx
priority: 2
workflowString: |
  --- !com.openexchange.subscribe.crawler.Workflow
  steps: 
    - !com.openexchange.subscribe.crawler.LoginPageByFormActionStep
      actionOfLoginForm: "https://service.gmx.net/de/cgi/login"
      baseUrl: ""
      description: Log in
      linkAvailableAfterLogin: ".*/service\\.gmx\\.net\\/de\\/cgi\\/g\\.fcgi/addressbook.*"
      nameOfPasswordField: p
      nameOfUserField: id
      numberOfForm: 2
      pageTitleAfterLogin: ".*/service\\.gmx\\.net\\/de\\/cgi\\/g\\.fcgi/addressbook.*"
      password: ""
      url: "http://www.gmx.de"
      username: ""
    - !com.openexchange.subscribe.crawler.PageByLinkRegexStep
      description: Click on the addressbook link in the menu to the left.
      url: ".*/service\\.gmx\\.net\\/de\\/cgi\\/g\\.fcgi/addressbook.*"
    - !com.openexchange.subscribe.crawler.PageByFrameNumberStep
      description: Get the first iframe
      frameNumber: 1
    - !com.openexchange.subscribe.crawler.PageByLinkRegexStep
      description: "Click on the manage-Addressbook-Link in the upper right "
      url: "categories.*"
    - !com.openexchange.subscribe.crawler.PageByLinkRegexStep
      description: Click on the Export-link to the left
      url: "exportcontacts.*"
    - !com.openexchange.subscribe.crawler.TextPageByMultiselectStep
      buttonName: export
      description: Select Microsoft Outlook 2003 in the form and submit it.
      formAction: exportcontacts
      formName: ""
      selectName: raw_format
      selectValue: csv_Outlook2003
    - !com.openexchange.subscribe.crawler.ContactsByCsvFileStep
      description: Map csv fields to Contact-Fields
      fields: 
        "15": telephone_business1
        "30": country_business
        "8": company
        "23": fax_home
        "16": telephone_business2
        "31": street_home
        "35": street_other
        "7": department
        "34": country_home
        "32": city_home
        "9": email1
        "21": cellular_telephone2
        "33": postal_code_home
        "6": position
        "1": title
        "29": postal_code_business
        "24": fax_business
        "36": city_other
        "19": telephone_home1
        "11": email2
        "18": telephone_home1
        "39": note
        "27": street_business
        "2": first_name
        "13": email3
        "38": country_other
        "28": city_business
        "20": cellular_telephone1
        "37": postal_code_other
        "5": birthday
        "0": last_name
      ignoreFirstLine: true
  
