--- !com.openexchange.subscribe.crawler.CrawlerDescription
crawlerApiVersion: 618
displayName: LinkedIn
id: com.openexchange.subscribe.linkedin
priority: 5
quirkyCookieQuotes: true
workflowString: |
  --- !com.openexchange.subscribe.crawler.Workflow
  quirkyCookieQuotes: true
  steps: 
    - !com.openexchange.subscribe.crawler.StringByOAuthRequestStep
      accessUrl: "https://api.linkedin.com/uas/oauth/accessToken"
      apiRequest: "http://api.linkedin.com/v1/people/~/connections:(first-name,last-name,phone-numbers,im-accounts,twitter-accounts,date-of-birth,main-address,picture-url)"
      authorizationUrl: "https://www.linkedin.com/uas/oauth/authorize"
      consumerKey: Ra7yTqolxUk_6UVpIAIsbv6kwLpIZCdNeUYxAA1n2Lnf05Dkr7D41dw-ivK-z4vA
      consumerSecret: vEPBnxJvXvqf9NsBby0kZ1hcgQCM7JBO7iCjlw4KIDhw_7lwPIln7zIvtP3dbL-i
      nameOfPasswordField: password
      nameOfUserField: email
      password: ""
      requestUrl: "https://api.linkedin.com/uas/oauth/requestToken"
      username: ""
    - !com.openexchange.subscribe.crawler.ContactObjectsByStringAndPagePartSequenceStep
      description: Get the information of each contact from the xml-file returned by the API
      pageParts: !com.openexchange.subscribe.crawler.internal.PagePartSequence
        limit: </person>
        page: ""
        pageParts: 
          - !com.openexchange.subscribe.crawler.internal.PagePart
            regex: <person>
          - !com.openexchange.subscribe.crawler.internal.PagePart
            regex: "(<first-name>)([^<]*)(</first-name>)"
            type: 1
            typeOfInfo: first_name
          - !com.openexchange.subscribe.crawler.internal.PagePart
            regex: "(<last-name>)([^<]*)(</last-name>)"
            type: 1
            typeOfInfo: last_name
          - !com.openexchange.subscribe.crawler.internal.PagePart
            regex: "(<phone-type>work</phone-type>(?:\\s)*<phone-number>)([^<]*)(</phone-number>)"
            type: 1
            typeOfInfo: telephone_business1
          - !com.openexchange.subscribe.crawler.internal.PagePart
            regex: "(<phone-type>mobile</phone-type>(?:\\s)*<phone-number>)([^<]*)(</phone-number>)"
            type: 1
            typeOfInfo: cellular_telephone1
          - !com.openexchange.subscribe.crawler.internal.PagePart
            regex: "(<im-account-type>)([^<]*)(</im-account-type>)"
            type: 1
            typeOfInfo: instant_messenger1_type
          - !com.openexchange.subscribe.crawler.internal.PagePart
            regex: "(<im-account-name>)([^<]*)(</im-account-name>)"
            type: 1
            typeOfInfo: instant_messenger1
          - !com.openexchange.subscribe.crawler.internal.PagePart
            regex: "(<year>)([0-9]*)(</year>)"
            type: 1
            typeOfInfo: birthday_year
          - !com.openexchange.subscribe.crawler.internal.PagePart
            regex: "(<month>)([0-9]*)(</month>)"
            type: 1
            typeOfInfo: birthday_month_real
          - !com.openexchange.subscribe.crawler.internal.PagePart
            regex: "(<day>)([0-9]*)(</day>)"
            type: 1
            typeOfInfo: birthday_day
          - !com.openexchange.subscribe.crawler.internal.PagePart
            regex: "(<main-address>)([^<]*)(</main-address>)"
            type: 1
            typeOfInfo: address_note
          - !com.openexchange.subscribe.crawler.internal.PagePart
            regex: "(<picture-url>)([^<]*)(</picture-url>)"
            type: 1
            typeOfInfo: image
          - !com.openexchange.subscribe.crawler.internal.PagePart
            regex: </person>
  
