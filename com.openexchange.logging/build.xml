<?xml version="1.0" encoding="UTF-8"?>
<project name="com.openexchange.logging overrides" basedir=".">

    <description>
        Special build script for the com.openexchange.logging fragment.
    	As this bundle 
    </description>

    <import file="build-project.xml" />

    <target name="postInstall">
        <symlink link="${destDir}/${bundlesDir}/${bundleIdentifier}/logback.xml" resource="${confInstallDir}/logback.xml" overwrite="true" />
    </target>

    <!-- We use start level 1 here to ensure an early startup of this bundle. -->
    <target name="makeIni" description="Creates the .ini file to include this bundle when starting the OSGi framework.">
        <propertyregex property="bundleName" input="${bundleFileOrDir}" regexp="^.*/(.*?)(\.jar)?$" select="\1" />
        <propertyregex property="fileOrDir" input="${bundleFileOrDir}" regexp="^.*/(.*?(\.jar)?)$" select="\1" />
        <echo file="${destDir}/${bundle.dDir}/${bundleName}.ini" message="${bundlesDir}/${fileOrDir}@1:start${line.separator}" />
    </target>

</project>
