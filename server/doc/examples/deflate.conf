# deflate configuration

<IfModule mod_deflate.so>

    DeflateFilterNote ratio
    LogFormat '"%r" %b (%{ratio}n) "%{User-agent}i"' deflate
    CustomLog /var/log/apache2/deflate.log deflate

    AddOutputFilterByType DEFLATE application/javascript application/x-javascript application/xml text/css text/html text/javascript text/plain text/xml text/x-js 

    # Netscape 4.x has some problems...
    BrowserMatch ^Mozilla/4 gzip-only-text/html

    # Netscape 4.06-4.08 have some more problems
    BrowserMatch ^Mozilla/4\.0[678] no-gzip

    # MSIE masquerades as Netscape, but it is fine
    BrowserMatch \bMSI[E] !no-gzip !gzip-only-text/html

    # Make sure proxies don't deliver the wrong content
    Header append Vary User-Agent env=!dont-vary

</IfModule>