define("io.ox/publications/wizard",["io.ox/publications/api"],function(a){var b=function(a){a.preventDefault();var b=a.data.publication,c={subject:"New publication",attachments:[{content:b.url}]};a.data.dialog.modal("hide"),require(["io.ox/mail/write/main"],function(a){a.getApp().launch().done(function(){this.compose(c)})})},c=function(a){a.preventDefault(),a.data.dialog.modal("hide")};return"use strict",{oneClickAdd:function(d){a.publishFolder(d).done(function(a){var d=a["com.openexchange.publish.microformats.infostore.online"
];require([ox.base+"/apps/io.ox/core/bootstrap/js/bootstrap-modal.js"],function(){var a=$("<div>").addClass("modal fade");a.append($("<div>").addClass("modal-header").append($("<a>").addClass("close").attr("data-dismiss","modal").text("x")).append($("<h3>").text("Publication created")),$("<div>").addClass("modal-body").append($("<a>",{href:d.url,target:"_blank"}).text(d.url)),$("<div>").addClass("modal-footer").append($("<a>",{href:"#"}).addClass("btn btn-primary").text("Close").on("click",{dialog
:a},c),$("<a>",{href:"#"}).addClass("btn").text("Send email").on("click",{publication:d,dialog:a},b))).appendTo("body").modal().on("hide",function(){a.remove(),a=null})})})}}})