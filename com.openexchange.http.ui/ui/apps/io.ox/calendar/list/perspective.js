define("io.ox/calendar/list/perspective",["io.ox/calendar/api","io.ox/core/tk/vgrid","io.ox/calendar/view-grid-template","io.ox/calendar/view-detail","io.ox/core/commons"],function(a,b,c,d,e){var f=new ox.ui.Perspective("list");return"use strict",f.render=function(f){var g,h,i,j,k,l,m,n;console.log("RENDER list"),g=f.getWindow(),h=330,i=$("<div>").addClass("leftside border-right").css({width:h+"px",overflow:"auto"}).appendTo(this.main),j=$("<div>").css({left:h+1+"px",overflow:"auto"}).addClass("rightside default-content-padding calendar-detail-pane"
).appendTo(this.main),k=new b(i),k.selection.serialize=function(a){return typeof a=="object"?(a.folder_id||a.folder||0)+"."+a.id+"."+(a.recurrence_position||0):a},k.addTemplate(c.main),k.addLabelTemplate(c.label),k.requiresLabel=c.requiresLabel,e.wireGridAndAPI(k,a),e.wireGridAndSearch(k,g,a),k.setListRequest("search",function(a){return $.Deferred().resolve(a)}),l=function(b){j.busy(!0),a.get(b).done(_.lfo(m)).fail(_.lfo(n,b))},m=function(a){j.idle().empty().append(d.draw(a))},n=function(a){j.idle
().empty().append($.fail("Oops, couldn't load appointment data.",function(){l(a)}))},e.wireGridAndSelectionChange(k,"io.ox/calendar",l,j,a),e.wireGridAndWindow(k,g),e.wireGridAndRefresh(k,a,g),e.addGridFolderSupport(f,k),k.setListRequest(function(a){return $.Deferred().resolve(a)}),k.prop("folder",f.folder.get()),k.paint()},f})