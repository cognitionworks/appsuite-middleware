define("io.ox/calendar/edit/view-addparticipants",["io.ox/core/api/user","io.ox/contacts/api","io.ox/core/tk/autocomplete","gettext!io.ox/calendar/edit/main"],function(a,b){var c=Backbone.View.extend({initialize:function(){var a=this},render:function(){var c=this,d;return c.el.find("#enter_name").attr("autocapitalize","off").attr("autocorrect","off").attr("autocomplete","off").autocomplete({source:function(b){var c=new $.Deferred;return a.search(b,{columns:"20,1,500,501,502,505,520,555,556,557,569,602,606"
})},stringify:function(a){return a.display_name},draw:function(a){this.append($("<div>").addClass("person-link ellipsis").text(a.display_name),$("<div>").addClass("ellipsis").text(a.email1))},related:function(){var a=c.el.find("#enter_email");return a},stringifyrelated:function(a){return a.email},dataHolder:function(){var a=c.el;return a}}).on("keydown",function(a){a.which===13&&(c.trigger("select",c.el.data()),c.el.find("#enter_name").val(""),c.el.find("#enter_email").val(""))}),c.el.find("#enter_email"
).attr("autocapitalize","off").attr("autocorrect","off").attr("autocomplete","off").autocomplete({source:function(a){return b.autocomplete(a)},stringify:function(a){return a.email1},draw:function(a){this.append($("<div>").addClass("person-link ellipsis").text(a.display_name),$("<div>").addClass("ellipsis").text(a.email1))},related:function(){var a=c.el.find("#enter_name");return a},stringifyrelated:function(a){return a.display_name},dataHolder:function(){var a=c.el;return a}}).on("keydown",function(
a){a.which===13&&(c.trigger("select",c.el.data()),c.el.find("#enter_email").val(""))}),c}});return"use strict",c})