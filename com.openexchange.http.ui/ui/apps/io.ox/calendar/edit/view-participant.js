define("io.ox/calendar/edit/view-participant",["io.ox/calendar/edit/model-participant","dot!io.ox/calendar/edit/common.html","gettext!io.ox/calendar/edit/main"],function(a,b,c){var d=Backbone.View.extend({tagName:"li",className:"edit-appointment-participant",_modelBinder:undefined,initialize:function(){var a=this;a.$el.attr("data-cid",a.model.cid),this._modelBinder=new Backbone.ModelBinder,a.model.fetch()},render:function(){switch(this.model.get("type")){case this.model.TYPE_USER:return this.renderUser
();case this.model.TYPE_USER_GROUP:return this.renderUserGroup();case this.model.TYPE_RESOURCE:return this.renderResource()}},renderUser:function(){var a=this;console.log("render user"),this.$el.empty().append(b.render("io.ox/calendar/edit/particpant/user",{}));var c=function(a,b){console.log("convert image");var c="";return b?c=b.replace(/^\/ajax/,ox.apiRoot):c=ox.base+"/apps/themes/default/dummypicture.png",'background: url("'+c+'");'},d={display_name:".person-link",image1_url:[{selector:".contact-image"
,elAttribute:"style",converter:c}],email1:".email"};return this._modelBinder.bind(a.model,this.el,d),a},renderUserGroup:function(){var a=this;console.log("render usergroup"),this.$el.empty().append(b.render("io.ox/calendar/edit/particpant/usergroup",{strings:{GROUP:c("Group")}}));var d=function(a,b){var c="";return b?c=b.replace(/^\/ajax/,ox.apiRoot):c=ox.base+"/apps/themes/default/dummypicture_group.png",'background: url("'+c+'");'},e=Backbone.ModelBinder.createDefaultBindings(a.el,"data-property"
);return e=_(e).extend({image1_url:[{selector:'[data-property="image1_url"]',elAttribute:"style",converter:d}]}),this._modelBinder.bind(a.model,this.el,e),a},renderResource:function(){var a=this;console.log("renderResource"),this.$el.empty().append(b.render("io.ox/calendar/edit/particpant/resource",{strings:{RESOURCE:c("Resource")}}));var d=function(a,b){var c="";return b?c=b.replace(/^\/ajax/,ox.apiRoot):c=ox.base+"/apps/themes/default/dummypicture_resource.png",'background: url("'+c+'");'},e=Backbone
.ModelBinder.createDefaultBindings(a.el,"data-property");return e=_(e).extend({image1_url:[{selector:'[data-property="image1_url"]',elAttribute:"style",converter:d}]}),this._modelBinder.bind(a.model,this.el,e),a}});return"use strict",d})