define("io.ox/dev/ajaxDebug/main",["io.ox/core/tk/vgrid","io.ox/dev/ajaxDebug/callHandling","io.ox/dev/ajaxDebug/callViews","io.ox/core/extensions","io.ox/core/extPatterns/links"],function(a,b,c,d,e){var f,g,h,i,j,k,l;return"use strict",new e.Action("io.ox/dev/ajaxDebug/actions/dump",{id:"dump",action:function(a){a.dump()}}),d.point("io.ox/dev/ajaxDebug/links/toolbar").extend(new e.Link({index:100,id:"dump",label:"Dump to console",ref:"io.ox/dev/ajaxDebug/actions/dump"})),new e.Action("io.ox/dev/ajaxDebug/actions/repeat"
,{id:"repeat",action:function(a){a.repeat()}}),d.point("io.ox/dev/ajaxDebug/links/toolbar").extend(new e.Link({index:200,id:"repeat",label:"Auto repeat",ref:"io.ox/dev/ajaxDebug/actions/repeat"})),f=ox.ui.createApp({name:"io.ox/dev/ajaxDebug"}),i=330,f.setLauncher(function(){var d,e;f.setWindow(g=ox.ui.createWindow({name:"io.ox/dev/ajaxDebug",title:"API debug",titleWidth:i+27+"px",toolbar:!0,search:!1})),j=$("<div>").addClass("leftside border-right").css({width:i+"px",overflow:"auto"}).appendTo(g
.nodes.main),k=$("<div>").css({left:i+1+"px",overflow:"auto",padding:"20px 40px 20px 40px"}).addClass("rightside").appendTo(g.nodes.main),l=new c.CallView(k,b),h=new a(j),h.setMultiple(!1),h.selection.serialize=function(a){return console.log("yep",a),a?a.id:""},h.addTemplate({build:function(){var a;return this.addClass("ajaxRequest").append(a=$("<div>").addClass("name")),{name:a}},set:function(a,b){b.name.text(a.query.module+"."+a.query.params.action)}}),h.setAllRequest(function(){var a=_(b.history
.slice().reverse()).map(function(a){return a});return(new $.Deferred).resolve(a)}),h.setListRequest(function(a){var c=_(a).map(function(a){return b.history[a.id]});return(new $.Deferred).resolve(c)}),h.selection.on("change",function(a,b){b.length===1&&l.draw(b[0])}),b.on("historychanged",function(){h.refresh(),h.selection.set(_(b.history).last())}),d=!1,e=function(){d&&b.perform(l.getQuery()).deferred.always(e)},f.autoRepeat=function(){d=!d,e()},f.dump=function(){var a;l.dirty?console.debug({query
:l.getQuery()}):(a=h.selection.get(),a.length===1?console.debug(a[0]):console.debug(a))},g.show(function(){h.paint()})}),{getApp:f.getInstance}})