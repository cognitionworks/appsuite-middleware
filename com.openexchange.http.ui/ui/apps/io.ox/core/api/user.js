define("io.ox/core/api/user",["io.ox/core/http","io.ox/core/api/factory"],function(a,b){var c=b({module:"user",keyGenerator:function(a){return String(a.id)},requests:{all:{columns:"1,20,500",sort:"500",order:"asc"},list:{action:"list",columns:"1,20,500,524"},get:{action:"get"},search:{action:"search",columns:"1,20,500,524",sort:"500",order:"asc",getData:function(a){return{pattern:a}}}}});return"use strict",c.getTextNode=function(a){var b=document.createTextNode("");return c.get({id:a}).done(function(
a){b.nodeValue=a.display_name||a.email1}).always(function(){_.defer(function(){b=null})}),b},c.getLink=function(a,b){var d=b?$.txt(b):c.getTextNode(a);return $("<a>",{href:"#"}).append(d).on("click",function(b){b.preventDefault(),require(["io.ox/core/extensions"],function(c){c.point("io.ox/core/person:action").each(function(c){_.call(c.action,{internal_userid:a},b)})})})},c.getPictureURL=function(a){return $.when(c.get({id:a}),require(["io.ox/contacts/api"])).pipe(function(a,b){return b.getPictureURL
(a[0]||a)},function(){return ox.base+"/apps/themes/default/dummypicture.png"})},c.getPicture=function(a){var b=$("<div>"),d=function(){_.defer(function(){b=d=null})};return c.getPictureURL(a).done(function(a){b.css("backgroundImage","url("+a+")")}).always(d),b},c})