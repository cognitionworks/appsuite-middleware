define("io.ox/core/extPatterns/dnd",["io.ox/core/extensions","io.ox/core/tk/upload"],function(a,b){var c=function(){var c,d,e=!1,f=$.makeArray(arguments),g=f.shift();d=a.point(g.ref);function h(a,b,c,d){var e=[c];_(f).each(function(a){e.push(a)}),d.extension&&d.extension.action&&d.extension.action.apply(d.extension,e)}function i(){var a=[];e&&c.remove(),c&&c.off("drop",h),d.each(function(b){if(b.isEnabled&&!b.isEnabled.apply(b,f))return;a.push({id:b.id,label:b.metadata("label",f),extension:b})}),
c=b.dnd.createDropZone({type:"multiple",actions:a}),c.on("drop",h),e&&c.include()}i(),d.on("extended",i),this.update=function(){i()},this.include=function(){c.include(),e=!0},this.remove=function(){c.remove(),e=!1}};return"use strict",{UploadZone:c}})