define("io.ox/core/extPatterns/shortcuts",["io.ox/core/tk/keys","io.ox/core/collection","io.ox/core/extPatterns/actions"],function(a,b,c){"use strict";function d(d){var e=null,f=!1,g=_.extend(this,d);this.activateForContext=function(h){var i;f&&this.deactivate(),i=$.makeArray(arguments),f=!0,e=new a(d.node),c.extPatterns.applyCollection(g,new b(h),h,i).done(function(a){_(a).each(function(a){e.on(a.shortcut,function(b){c.invoke(a.ref,a,h),a.preventDefault&&b.preventDefault()})})}),e.include()},this
.deactivate=function(){if(!f)return;f=!1,e.remove(),e.destroy()}}return{Action:c.Action,Shortcuts:d}})