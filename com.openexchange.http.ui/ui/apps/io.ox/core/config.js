define("io.ox/core/config",["io.ox/core/http","io.ox/core/cache"],function(a,b){var c,d={},e=function(a){var b=typeof a=="string"?a.split(/\./):a,c=d||{},e=0,f=b.length;for(;e<f;e++)if(c!==null&&c!==undefined&&b[e]in c)c=c[b[e]];else return null;return c},f=function(a,b){var c=typeof a=="string"?a.split(/\./):a,e=d||{},f=0,g=c.length;for(;f<g;f++)if(e[c[f]]){e=e[c[f]];if(typeof e!="object"){console.error("config.set: "+e+" is a value");return}}else e=e[c[f]]={};e[c[g-1]]=b},g=function(a){var b=typeof 
a=="string"?a.split(/\./):a,c=d||{},e=0,f=b.length;for(;e<f;e++)if(c!==null&&c!==undefined&&b[e]in c)c=c[b[e]];else return!1;return!0},h=function(a){var b=typeof a=="string"?a.split(/\./):a,c=d||{},e=0,f=b.length-1;for(;e<f;e++)if(c[b[e]]){c=c[b[e]];if(typeof c!="object"){console.error("config.set: "+c+" is a value");return}}else c=c[b[e]]={};delete c[b[f]]};return"use strict",{get:function(a,b){if(!a)return d;else if(b===undefined)return e(a);else return g(a)?e(a):b},set:function(b,c,d){if(b){f(
b,c);if(d)return a.PUT({module:"config/"+b,appendColumns:!1,processResponse:!1,data:c})}},remove:function(a){a&&h(a)},contains:function(a){return g(a)},load:function(){var e=new $.Deferred,f=function(){return a.GET({module:"config",appendColumns:!1,processResponse:!1}).done(function(a){d=a!==undefined?a.data:{},c.add("default",d)})};return c||(c=new b.SimpleCache("config",!0)),c.get("default").done(function(a){a!==null?(d=a,f(),e.resolve(a)):f().done(e.resolve)}),e}}})