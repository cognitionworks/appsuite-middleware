define("io.ox/core/gettext",[],function(){var a;"use strict";if(_.url.hash("debug-i18n"))try{$(document).on("DOMAttrModified",c).on("DOMCharacterDataModified",d).on("DOMNodeInserted",e)}catch(b){console.error(b)}function c(a){a.originalEvent.attrName in{title:1,value:1}&&f(a.originalEvent.newValue,a.target)}function d(a){f(a.originalEvent.newValue,a.target)}function e(a){if(a.target.tagName in{SCRIPT:1,STYLE:1})return;b(a.target);function b(a){a.nodeType===3?f(a.data,a.parentNode):a.nodeType===1&&
_.each(a.childNodes,b)}}function f(a,b){if(h(a))return;console.error("Untranslated string",a,b),$(b).css("backgroundColor","rgba(255, 192, 0, 0.5)")}function g(a){return"​"+a+"‌"}function h(a){return/^\u200b[^\u200b\u200c]*\u200c$/.test(a)}function i(a,b){b.plural=new Function("n","return "+b.plural+";");function c(a){return a=c.pgettext("",a),arguments.length<2?a:c.format.apply(c,arguments)}_.url.hash("debug-i18n")?(c.format=function(){var a,b,c=new Array(arguments.length);for(a=0;a<arguments.length
;a++)b=String(arguments[a]),h(b)?b=b.slice(1,-1):(console.error("Untranslated printf parameter",a,b),console.trace()),c[a]=b;return g(_.printf.apply(this,c))},c.noI18n=g,c.pgettext=_.compose(g,d),c.npgettext=_.compose(g,e)):(c.format=_.printf,c.noI18n=_.identity,c.pgettext=d,c.npgettext=e),c.gettext=function(a){return c.pgettext("",a)},c.ngettext=function(a,b,d){return c.npgettext("",a,b,d)};function d(a,c){var d=a?a+"\0"+c:c;return b.dictionary[d]||c}function e(a,c,d,e){var f=(a?a+"\0":"")+c+""+
d,g=b.dictionary[f];return g?g[Number(b.plural(Number(e)))]:Number(e)!==1?d:c}return c}return a=new $.Deferred,i.setLanguage=function(b){b in ox.serverConfig.languages||(b="en_US"),i.setLanguage=function(a){if(a!==b)throw new Error("Multiple setLanguage calls")},a.resolve(b)},i.language=a.promise(),i})