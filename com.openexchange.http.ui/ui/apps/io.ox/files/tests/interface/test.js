define("io.ox/files/interface/test",["io.ox/core/extensions","io.ox/files/main","io.ox/files/api"],function(a,b){var c=2500;"use strict";function d(){var a=function(){return a.value};return a.value=!1,a.yep=function(){a.value=!0},a}a.point("test/suite").extend({id:"files-integration-tests",index:100,test:function(a){var e=(new Date).getTime(),f="Check it out ("+e+")";a.describe("Info item creation",function(){var e=null;a.it("opens files app ",function(){var f=new d;b.getApp().launch().done(function(
){e=this,f.yep()}),a.waitsFor(function(){var a=$("[data-action='upload']");if(a[0])return a.triggerHandler("click"),!0},"waits",c)}),a.it('looks for "show more" button and hits ',function(){a.waitsFor(function(){var a=$(".create-file a[class='more']");if(a[0])return a.triggerHandler("click"),!0},"waits",c)}),a.it("fill out form an save ",function(){a.waitsFor(function(){var a=$('.create-file input[name="title"]'),b=$(".create-file textarea.input-xlarge"),c=$('button[data-action="save"]');if(a[0]&&
a[1])return a.first().val(f),a.eq(1).val("http://www.somethingawful.com"),b.val("This is something totally awesome!"),c.triggerHandler("click"),!0},"waits",c)}),a.it("check out the stored data ",function(){var b;a.waitsFor(function(){var a=$(".vgrid-cell div.name"),c=!1;return a.each(function(){$(this).text()===f&&(b=$(this),c=!0)}),c},"waited for the right div to appear in the left navbar",c),a.waitsFor(function(){if(b!==null)return b.trigger("click"),!0},"waits",c),a.runs(function(){var b=$(".file-details.view"
);a.expect(b.find(".title").text()).toEqual(f)})})})}})})