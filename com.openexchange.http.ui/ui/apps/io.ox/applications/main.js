define("io.ox/applications/main",["io.ox/core/api/apps","io.ox/core/tk/vgrid","less!io.ox/applications/style.css"],function(a,b){var c,d,e,f,g=ox.ui.createApp({name:"io.ox/applications"}),h=250;return"use strict",g.setLauncher(function(){var i,j;c=ox.ui.createWindow({title:"Application Manager",toolbar:!0}),c.addClass("io-ox-applications-main"),g.setWindow(c),e=$("<div>").addClass("leftside border-right").css({width:h+"px"}).appendTo(c.nodes.main),f=$("<div>").css({left:h+1+"px",overflow:"auto",paddingRight
:"0"}).addClass("rightside default-content-padding").appendTo(c.nodes.main).scrollable(),d=new b(e),d.addTemplate({build:function(){var a,b;return this.addClass("application").append(a=$("<div>").addClass("count")).append(b=$("<div>").addClass("title")),{count:a,title:b}},set:function(a,b){b.count.text(a.count),b.title.text(a.title),a.id==="upgrades"&&a.count>0&&b.count.addClass("highlight")}}),d.addLabelTemplate({build:function(){this.addClass("application-label")},set:function(a){this.text(a.group||""
)}}),d.requiresLabel=function(a,b,c){return b.group!==c?b.group:!1},d.setAllRequest(function(){return $.Deferred().resolve(a.getCategories())}),i=function(a,b){f.empty().append(b.draw(a))},j=function(a){var b=a.id;b!=="installed"&&b!=="favorites"&&b!=="upgrades"&&b!=="mockIntegration"&&(b="category"),require([a.viewModule||"io.ox/applications/view-"+b]).done(_.lfo(i,a))},d.selection.setMultiple(!1).on("change",function(a,b){b.length===1&&j(b[0])}),c.on("show",function(){d.selection.keyboard(!0)})
,c.on("hide",function(){d.selection.keyboard(!1)}),c.show(function(){d.paint()}),a.on("refresh.all",function(){d.refresh()})}),{getApp:g.getInstance}})