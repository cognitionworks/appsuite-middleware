define("io.ox/applications/view-common",["io.ox/core/api/apps"],function(a){var b=_.template('<div class="app"><img src="<%= icon %>" class="icon" alt="">'+'<div class="title"><span><%= title %></span></div>'+'<div class="company"><%= company %></div>'+'<div class="description"><%= description %></div>'+'<div class="links"></div>'+"</div>");"use strict";function c(a){a.preventDefault(),require([a.data.id+"/main"],function(a){a.getApp().launch()})}function d(b){b.preventDefault(),a.markAsFavorite(
b.data.id)}function e(b){b.preventDefault(),a.unmarkAsFavorite(b.data.id)}function f(f,g){var h=$(b(f));return h.find(".icon, .title").on("click",{id:f.id},c),g.id==="installed"?(h.find(".links").append($("<a>",{href:"#"}).text("Start").on("click",{id:f.id},c).add($.txt("  "))),a.isFavorite(f)?(h.find(".title").append($("<span/>").attr("title","Favorite").addClass("favorite").text("★")),h.find(".links").append($("<a>",{href:"#"}).text("Unmark as favorite").on("click",{id:f.id},e).add($.txt("  "))
)):h.find(".links").append($("<a>",{href:"#"}).text("Mark as favorite").on("click",{id:f.id},d).add($.txt("  ")))):f.link&&h.find(".links").append($("<a>",{href:f.link,target:"_blank"}).text("Weiter").add($.txt("  "))),h}return{drawApp:f}})