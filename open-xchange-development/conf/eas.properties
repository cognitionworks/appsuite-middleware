# Configuration file for EAS
#
# Unless otherwise specified, the given values also represent the
# default values for the properties.

# -----------------------------------------
# Properties to configure the EAS subsystem
# -----------------------------------------

# Specifies whether to check if a specific user is allowed to use EAS.
# This is done by checking the interfaces/eas-property in the OX ajax
# config for that user. The default value is true.
com.openexchange.usm.eas.access_check=true

# Defines the webserver path under which the EAS servlet registers itself.
com.openexchange.usm.eas.alias=/Microsoft-Server-ActiveSync

# Defines the debug logfile that is generated by the EAS servlet.
# No logfile will be generated if the property is missing or set to
# an empty string.
com.openexchange.usm.eas.debug_log=

# Defines a pattern that is used to map a user login received from an
# EAS client to an OX login.
# This pattern will be used if the EAS client did not provide any domain.
# The text "$USER" in the pattern will be replaced by the user name
# provided by the EAS client.
com.openexchange.usm.eas.login_pattern.user_only=$USER

# Defines a pattern that is used to map a user login received from an
# EAS client to an OX login.
# This pattern will be used if the EAS client provided a domain and a
# user name.
# The text "$USER" in the pattern will be replaced by the user name
# provided by the EAS client.
# The text "$DOMAIN" in the pattern will be replaced by the user name
# provided by the EAS client.
com.openexchange.usm.eas.login_pattern.domain_user=$USER@$DOMAIN

# Defines a time limit in days to filter out old emails when syncing
# with EAS devices. This limit is always additionally applied,
# regardless of the setting requested by the EAS client, to allow
# server administrators to impose a hard limit on the synchronized
# mails (e.g. to reduce load on the mail servers if users tend to
# store all their mail in the INBOX). The default value of this
# property is 3 days, a value of 0 is interpreted as no filtering.
com.openexchange.usm.eas.mail.time_limit=3

# Defines a limit for the maximum number of emails in a folder when
# syncing with EAS devices. If a folder contains more emails than
# specified in the limit, only the newest ones are synchronized.
# This limit is always additionally applied, regardless of the
# setting requested by the EAS client, to allow server
# administrators to impose a hard limit on the synchronized
# mails (e.g. to reduce load on the mail servers if users tend to
# store all their mail in the INBOX). The default value of this
# property is 600 emails, a value of <=0 is interpreted as no
# filtering.
com.openexchange.usm.eas.mail.limit=600

# Defines how many folders may be watched with a single EAS ping
# request, defaults to unlimited (Integer.MAX_VALUE).
com.openexchange.usm.eas.ping.max_folders=10000

# Defines in seconds how long the minimum wait time specified by
# an EAS ping command may be. Note that the HTTP connection will
# be kept alive up to that time !
com.openexchange.usm.eas.ping.min_heartbeat=30

# Defines in seconds how long the maximum wait time specified by
# an EAS ping command may be. Note that the HTTP connection will
# be kept alive up to that time !
com.openexchange.usm.eas.ping.max_heartbeat=1800

# This property determines if the USM/EAS should send MeetingRequests
# for those emails that are invitations to appointments sent from the
# local OX server. Some devices (e.g. iPhone) perform automatic
# operations when receiving a MeetingRequest that collides with the
# fact that the OX server creates the appointment before the attendee
# has accepted it. If this property is disabled, the USM/EAS handles
# those invitation mails like normal mails. The default value for
# this property is true.
com.openexchange.usm.eas.meeting_request_enabled=true

# This property enables a special handling (for special devices, currently
# all non-Nokia) for all appointments to which the current user has been
# invited: The user won't see the appointment directly, instead a special
# invitation mail is generated. The original (optional) invitation mails from
# OX are ignored. The appointment will become visible after a
# MeetingResponse from the client or after the user status has been set
# in the OX server. This behavior is similar to that of MS products.
# If this property is set to false, the emulation is disabled, all appointments
# are reported directly, MeetingRequests are generated from the OX
# invitation mails. Caution: The behavior for the setting "false" may
# lead to problems in clients that expect the MS behavior, mostly to
# duplicate appointment entries.
com.openexchange.usm.eas.meeting_request_emulation_enabled=true

# If this property is set to true, in EAS by default all OX folders will be
# synchronized (experimental). If it is set to false (default), the original
# behavior will be used, i.e. only all default folders and their sub-folders
# will be synchronized. Note that this applies only to the default handling,
# via the OX Ajax configuration interface the root folders may be specified
# for each user individually (if implemented in the OX server).
com.openexchange.usm.eas.sync_all_folders=false

# This property specifies if and how owner names of shared folders should be
# prefixed to the folder title when reported to clients:
# - A value of 0 disabled the prefixing completely (i.e. only the folder title is reported).
# - A value < 0 enables prefixing, the title will be prefixed with the user name separated
#   by a dash, the name will be the same as the title of the user folder that is visible in
#   the OX GUI
# - A value > 0 enables limited prefixing. Like normal prefixing, the user name will be
#   added, but it will be truncated if it is longer than the specified value, e.g. 6 -> only
#   5 characters followed by an ellipsis (...) will be displayed
# Default: -1
com.openexchange.usm.eas.shared_folder_user_name_limit=-1

# Defines the max WindowSize for changes on email folders. 
# Larger WindowSize sent from client will be ignored.
# Default: 50 
com.openexchange.usm.eas.sync_max_email_windowsize=50

# Specifies if the users are allowed to choose the folders to be synchronized in the OX GUI. 
# Default: false
com.openexchange.usm.eas.allow_folder_selection=false

# Defines a check interval in milliseconds that is used to prevent clients with bad behavior to cause too much load
# on the server. If it is set to a value > 0 (and com.openexchange.usm.eas.access_check.max_accesses and
# com.openexchange.usm.eas.access_check.refusal_interval are also set > 0), it specifies an time interval which
# USM checks for unnecessary synchronizations. If within this interval the limit provided in max_accesses is reached,
# all further access from that client is refused for refusal_interval seconds (all requests report a temporary error).
# After the refusal_interval has passed, the check mechanism is reset (regardless of the number of client requests
# that were refused).
# Default: 120000 (2 minutes)
com.openexchange.usm.eas.access_check.test_interval=120000

# Defines a limit for unnecessary synchronizations a client may perform within the test interval to prevent clients with
# bad behavior to cause too much load on the server. If it is set to a value > 0 (and
# com.openexchange.usm.eas.access_check.test_interval and com.openexchange.usm.eas.access_check.refusal_interval
# are also set > 0), it specifies an time interval which USM checks for unnecessary synchronizations. If within this
# interval the limit provided in max_accesses is reached, all further access from that client is refused for refusal_interval
# seconds (all requests report a temporary error).
# After the refusal_interval has passed, the check mechanism is reset (regardless of the number of client requests
# that were refused).
# Default: 80
com.openexchange.usm.eas.access_check.max_accesses=80

# Defines for how long a client is refused access to USM if it shows bad behavior to prohibit it to cause too much load
# on the server. If it is set to a value > 0 (and com.openexchange.usm.eas.access_check.test_interval and
# com.openexchange.usm.eas.access_check.refusal_interval are also set > 0), it specifies an time interval which
# USM checks for unnecessary synchronizations. If within this interval the limit provided in max_accesses is reached,
# all further access from that client is refused for refusal_interval seconds (all requests report a temporary error).
# After the refusal_interval has passed, the check mechanism is reset (regardless of the number of client requests
# that were refused).
# Default: 900000 (15 minutes)
com.openexchange.usm.eas.access_check.refusal_interval=900000

# Defines the max number of collections that can be synchronized in one sync request.
# Smaller values may decrease the temporary memory usage per EAS Sync request in USM
# Some client implementations require a value > 1.
# Default: 3
com.openexchange.usm.eas.sync_max_collections=3
